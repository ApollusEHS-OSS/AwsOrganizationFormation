
OrganizationUpdate:
  Type: update-organization
  Template: ./organization.yml

CloudformationSetup:
  Type: update-stacks
  Template: ./cloudformation-setup.yml
  StackName: cloudformation-setup
  StackDescription: 'Cloudformation setup used by stacksets'
  OrganizationFile: ./organization.yml
  TerminationProtection: true
  OrganizationBindingRegion: eu-central-1
  OrganizationBinding:
    Account: '*'

Roles:
  Type: update-stacks
  Template: ./roles.yml
  StackName: roles
  StackDescription: 'Roles example template'
  TerminationProtection: false

BudgetAlarms:
  Type: update-stacks
  Template: ./budget-alarms.yml
  StackName: budget-alarms
  OrganizationBinding:
    AccountsWithTag: budget-alarm-threshold
  OrganizationBindingRegion: eu-central-1
  Parameters:
    resourcePrefix: my

HostedZone:
  Type: update-stacks
  Template: ./hosted-zone.yml
  StackName: hosted-zone
  StackDescription: 'Hosted Zone example template'

CloudTrail:
  Type: update-stacks
  Template: ./cloudtrail.yml
  StackName: cloudtrail
  StackDescription: 'Cloudtrail example template'

# Include:
#   Type: include
#   Path: ./build-tasks-include.yml
#   MaxConcurrentTasks: 10
#   FailedTaskTolerance: 10
