
OrganizationUpdate:
  Type: update-organization
  Template: ./organization.yml

Roles:
  Type: update-stacks
  Template: ./cross-account-role.yml
  StackName: roles
  StackDescription: 'Roles example template'
  TerminationProtection: false
  Parameters:
    resourcePrefix: my
    roleName: my
    rolePolicyArns:
      - arn:aws:iam::aws:policy/PowerUserAccess
  OrganizationBindings:
    RoleAccountBinding:
      Account:
        !Ref SharedServicesAccount


BudgetAlarms:
  Type: update-stacks
  Template: ./budget-alarms.yml
  StackName: budget-alarms
  DefaultOrganizationBinding:
    AccountsWithTag: budget-alarm-threshold
  DefaultOrganizationBindingRegion: eu-central-1
  Parameters:
    resourcePrefix: my

# CrossAccountBuckets:
#   Type: update-stacks
#   Template: ./cross-account-bucket.yml
#   StackName: MyBucket
#   Parameters:
#     bucketName: myBucket

# CrossAccountSecret:
#   Type: update-stacks
#   Template: ./cross-account-secret.yml
#   StackName: MySecret
#   Parameters:
#     secretName: myBucket

# CrossAccountLambda:
#   Type: update-stacks
#   Template: ./cross-account-lambda.yml
#   StackName: MyLambda
#   Parameters:
#     functionName: myLambda

# HostedZone:
#   Type: update-stacks
#   Template: ./hosted-zone.yml
#   StackName: hosted-zone
#   StackDescription: 'Hosted Zone example template'

# CloudTrail:
#   Type: update-stacks
#   Template: ./cloudtrail.yml
#   StackName: cloudtrail
#   StackDescription: 'Cloudtrail example template'

# Include:
#   Type: include
#   Path: ./build-tasks-include.yml
#   MaxConcurrentTasks: 10
#   FailedTaskTolerance: 10
